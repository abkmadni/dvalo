<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="header" style="background-color: rgb(40, 176, 40);">
        <div><h1 style="padding-left: 20px; color: white; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; font-size: 10vh;">D<i class="fa-brands fa-vuejs" style="font-size: 9vh;"></i>ALO</h1></div>
        <div id = "nav-separator"></div>
        <nav style="padding: 10px; padding-right: 20px;">
            <a href="./index.html">Home</a>
            <a href="./products.html">Products</a>
            <a href="./cart.html">Cart</a>
            <a href="./about.html">About</a>
            <a id="login" href="./login.html">Login</a>
        </nav>
    </div>
    <div class="slideshow-container">

        <div class="mySlides fade">
          <div class="numbertext">1 / 3</div>
          <img src="https://www.dvago.pk/_next/image?url=https%3A%2F%2Fdvago-assets.s3.ap-southeast-1.amazonaws.com%2FProductsImages%2F565%2F12449.webp&w=360&q=50" style="width:100%">
          <div class="text"></div>
        </div>
      
        <div class="mySlides fade">
          <div class="numbertext">2 / 3</div>
          <img src="https://www.dvago.pk/_next/image?url=https%3A%2F%2Fdvago-assets.s3.ap-southeast-1.amazonaws.com%2FProductsImages%2F23738.jpg&w=360&q=50" style="width:100%">
          <div class="text"></div>
        </div>
      
        <div class="mySlides fade">
          <div class="numbertext">3 / 3</div>
          <img src="https://www.dvago.pk/_next/image?url=https%3A%2F%2Fdvago-assets.s3.ap-southeast-1.amazonaws.com%2FProductsImages%2F565%2F06155.webp&w=360&q=50" style="width:100%">
          <div class="text"></div>
        </div>
      
        <!-- Next and previous buttons -->
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
      </div>
      <br>
      
      <!-- The dots/circles -->
      <div style="text-align:center">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
        </div>

        <div class = productsGrid>
            <div class="product">
                <img src="https://www.dvago.pk/_next/image?url=https%3A%2F%2Fdvago-assets.s3.ap-southeast-1.amazonaws.com%2FProductsImages%2F23738.jpg&w=360&q=50" alt="Risek 20">
                <h3>Risek Capsules 20Mg (1 Strip = 7 Capsules)</h3>
                <p>Brand : <a href="">Getz Pharma Pakistan</a></p>
                <button>Add to Cart</button>
            </div>
            <div class="product">
                <img src="https://www.dvago.pk/_next/image?url=https%3A%2F%2Fdvago-assets.s3.ap-southeast-1.amazonaws.com%2FProductsImages%2F565%2F12449.webp&w=360&q=50" alt="Sponsored By: Hakeem Zulfiqar Pharmacy">
                <h3>Azomax 500 Capsules 500Mg (1 Box = 2 Strips) (1 Strip = 3 Capsules)</h3>
                <p>Brand : <a href="">Sandoz</a></p>
                <button>Add to Cart</button>
            </div>
            <div class="product">
                <img src="https://www.dvago.pk/_next/image?url=https%3A%2F%2Fdvago-assets.s3.ap-southeast-1.amazonaws.com%2FProductsImages%2F565%2F06155.webp&w=360&q=50" alt="Get Well Soon">
                <h3>Voltral Tablets 50Mg (1 Strip = 10 Tablets)</h3>
                <p>Brand : <a href="">Novartis Pharmaceuticals</a></p>
                <button>Add to Cart</button>
            </div>
        </div>
    <div class="footer">
      <p>
        All rights reserved. DVALO 2024
      </p>
    </div>  
</body>

    <script>
(async () => {
  if (localStorage.getItem('isLoggedIn') === 'true') {
    let userDetails = JSON.parse(localStorage.getItem('userDetails'));
    console.log(userDetails);
    let response = await fetch(`http://localhost:8090/api/User/${userDetails}`,
      {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json'
        }
      });
    let data = await response.json();
    console.log(`${data[0].UserName} is logged in`);
    document.getElementById('login').innerText = `Welcome ${data[0].UserName}`;
    document.getElementById('login').href = 'profile.html';
  } else {
    console.log('User is not logged in');
  }
})();

        let slideIndex = 0;

        showSlides();


function showSlides() {
    
      let i;
    
      let slides = document.getElementsByClassName("mySlides");
    
      let dots = document.getElementsByClassName("dot");
    
      for (i = 0; i < slides.length; i++) {
    
     slides[i].style.display = "none";
    
      }
    
      slideIndex++;
    
      if (slideIndex > slides.length) {slideIndex = 1}
    
      for (i = 0; i < dots.length; i++) {
    
     dots[i].className = dots[i].className.replace(" active", "");
    
      }
    
      slides[slideIndex-1].style.display = "block";
    
      dots[slideIndex-1].className += " active";
    
      setTimeout(showSlides, 3000); // Change image every 2 seconds
    
    }



    </script>